[
    /*
    * Tests for character reference (entities)
    * https://html.spec.whatwg.org/multipage/parsing.html#character-reference-state
    */

    /* in text */
    {
        "data": "abc&#1234cde",
        "tokens": [
            {
                "text": "abcÓ’cde",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AElig;",
        "tokens": [
            {
                "text": "Ã†",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AElig",
        "tokens": [
            {
                "text": "Ã†",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AEli",
        "tokens": [
            {
                "text": "&AEli",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AElig;&Afr;",
        "tokens": [
            {
                "text": "Ã†ğ”„",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AElit&Afr;",
        "tokens": [
            {
                "text": "&AElitğ”„",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AElig; &Afr;",
        "tokens": [
            {
                "text": "Ã† ğ”„",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AElig ; &Afr;",
        "tokens": [
            {
                "text": "Ã† ; ğ”„",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AEligqwe",
        "tokens": [
            {
                "text": "Ã†qwe",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AElig123",
        "tokens": [
            {
                "text": "Ã†123",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "AElig&AEligAElig",
        "tokens": [
            {
                "text": "AEligÃ†AElig",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&DownArrow;",
        "tokens": [
            {
                "text": "â†“",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&Downarrow;",
        "tokens": [
            {
                "text": "â‡“",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&DownArrowBar;",
        "tokens": [
            {
                "text": "â¤“",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&DownArrow Bar;",
        "tokens": [
            {
                "text": "&DownArrow Bar;",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&nLt;",
        "tokens": [
            {
                "text": "â‰ªâƒ’",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&nLt;a",
        "tokens": [
            {
                "text": "â‰ªâƒ’a",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "b&nLt;a",
        "tokens": [
            {
                "text": "bâ‰ªâƒ’a",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&acir",
        "tokens": [
            {
                "text": "&acir",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&aci",
        "tokens": [
            {
                "text": "&aci",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&ac",
        "tokens": [
            {
                "text": "&ac",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&a",
        "tokens": [
            {
                "text": "&a",
                "text-parser": "char_ref"
            }
        ]
    },    
    {
        "data": "&",
        "tokens": [
            {
                "text": "&",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "\r\n",
        "tokens": [
            {
                "text": "\n",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "\r\r\n",
        "tokens": [
            {
                "text": "\n\n",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "\n",
        "tokens": [
            {
                "text": "\n",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "\n\r",
        "tokens": [
            {
                "text": "\n\n",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "\u0000",
        "tokens": [ 
            {
                "text": "ï¿½",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "a\u0000b",
        "tokens": [ 
            {
                "text": "aï¿½b",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "\u0000b",
        "tokens": [ 
            {
                "text": "ï¿½b",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "a\u0000",
        "tokens": [ 
            {
                "text": "aï¿½",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "a\u0000&DownArrowBar;",
        "tokens": [ 
            {
                "text": "aï¿½â¤“",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&acirc\u0000&DownArrowBar;",
        "tokens": [ 
            {
                "text": "Ã¢ï¿½â¤“",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&AEli var asdasd = 131312;
    var ggff = \"sdfsdf\";
      &AElig;&acute&acute; &Agrave;
    <!--<script --</script>\r\r\r\r\n&between",
        "tokens": [ 
            {
                "text": "&AEli var asdasd = 131312;
    var ggff = \"sdfsdf\";
      Ã†Â´Â´ Ã€
    ",
                "text-parser": "char_ref"
            },
            {
                "tag": "!--",
                "text": "<script --</script>\n\n\n\n&between",
                "text-parser": "char_ref"
            }
        ]
    },

    /* in attributes */
    {
        "data": "&DownArrowBar;",
        "tokens": [
            {
                "text": "â¤“",
                "text-parser": "char_ref_attr"
            }
        ]
    },
    {
        "data": "&acirc=",
        "tokens": [
            {
                "text": "&acirc=",
                "text-parser": "char_ref_attr"
            }
        ]
    },
    {
        "data": "&acircr",
        "tokens": [
            {
                "text": "&acircr",
                "text-parser": "char_ref_attr"
            }
        ]
    },
    {
        "data": "&acirc",
        "tokens": [
            {
                "text": "Ã¢",
                "text-parser": "char_ref_attr"
            }
        ]
    },
    {
        "data": "/ololo/?arg=1&redirect=123",
        "tokens": [
            {
                "text": "/ololo/?arg=1&redirect=123",
                "text-parser": "char_ref_attr"
            }
        ]
    },
    {
        "data": "/ololo/?arg=1&acirc",
        "tokens": [
            {
                "text": "/ololo/?arg=1Ã¢",
                "text-parser": "char_ref_attr"
            }
        ]
    },
    {
        "data": "&acir",
        "tokens": [
            {
                "text": "&acir",
                "text-parser": "char_ref_attr"
            }
        ]
    },
    {
        "data": "&aci",
        "tokens": [
            {
                "text": "&aci",
                "text-parser": "char_ref_attr"
            }
        ]
    },
    {
        "data": "&ac",
        "tokens": [
            {
                "text": "&ac",
                "text-parser": "char_ref_attr"
            }
        ]
    },
    {
        "data": "&a",
        "tokens": [
            {
                "text": "&a",
                "text-parser": "char_ref_attr"
            }
        ]
    },    
    {
        "data": "&",
        "tokens": [
            {
                "text": "&",
                "text-parser": "char_ref_attr"
            }
        ]
    },

    /* in numeric */
    {
        "data": "&#80",
        "tokens": [
            {
                "text": "P",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#80v",
        "tokens": [
            {
                "text": "Pv",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "a&#80v",
        "tokens": [
            {
                "text": "aPv",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "a&#654654654654654646546v",
        "tokens": [
            {
                "text": "aï¿½v",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#1024",
        "tokens": [
            {
                "text": "Ğ€",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#j",
        "tokens": [
            {
                "text": "&#j",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#jgf",
        "tokens": [
            {
                "text": "&#jgf",
                "text-parser": "char_ref"
            }
        ]
    },

    /* in hexademical */
    {
        "data": "&#x80",
        "tokens": [
            {
                "text": "â‚¬",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#x80&#x80",
        "tokens": [
            {
                "text": "â‚¬â‚¬",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#x80v&#x80",
        "tokens": [
            {
                "text": "â‚¬vâ‚¬",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#x80 &#x80",
        "tokens": [
            {
                "text": "â‚¬ â‚¬",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#xAAAD &#x80 hm",
        "tokens": [
            {
                "text": "êª­ â‚¬ hm",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#x9F",
        "tokens": [
            {
                "text": "Å¸",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#x11FFFF",
        "tokens": [
            {
                "text": "ï¿½",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#x00",
        "tokens": [
            {
                "text": "ï¿½",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#x00&#x00",
        "tokens": [
            {
                "text": "ï¿½ï¿½",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#xD800",
        "tokens": [
            {
                "text": "ï¿½",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#xDAFF",
        "tokens": [
            {
                "text": "ï¿½",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#xDFFF",
        "tokens": [
            {
                "text": "ï¿½",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#xd",
        "tokens": [
            {
                "text": "\r",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#xj",
        "tokens": [
            {
                "text": "&#xj",
                "text-parser": "char_ref"
            }
        ]
    },
    {
        "data": "&#xjgf",
        "tokens": [
            {
                "text": "&#xjgf",
                "text-parser": "char_ref"
            }
        ]
    }
]
